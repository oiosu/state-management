# 2. ë¯¸ë“¤ì›¨ì–´ ì—†ì´ ë¦¬ë•ìŠ¤ ì¹´ìš´í„° ì•± ë§Œë“¤ê¸° 

#### ğŸ“Œë¦¬ì•¡íŠ¸ ì•± ì„¤ì¹˜ 

```bash
npx create-react-app my-app --template typescript
```



#### ğŸ“Œë¦¬ë•ìŠ¤ ë¼ì´ë¸ŒëŸ¬ë¦¬ ì„¤ì¹˜ 

```bash
npm install redux --save
```



* Starts the development server.

```bash
npm start
```

* Bundles the app into statix files for production.

```bash
npm run build
```

* Starts the test runner.

```bash
npm test
```

* Removes this tool and copies build dependencies, configuration files

```bash
npm run eject
```


![image-20230608200141067](C:\Users\areur\AppData\Roaming\Typora\typora-user-images\image-20230608200141067.png)





---



* (1) **App.tsx**

```javascript
import React from "react";
import logo from "./logo.svg";
import "./App.css";

function App() {
  return (
    <div className="App">
      Clicked: times
      <button>+</button>
      <button>-</button>
    </div>
  );
}

export default App;

```



* (2) **Reducer ìƒì„±** 

> ğŸ“‚reducers > index.tsx

```javascript
const counter = (state =0, action: { type: string }) => {
    switch (action.type) {
        case 'INCREMENT':
            return state + 1
        case 'DECREMENT':
            return state - 1
        default:
            return break;
    }
}

export default counter;
```



* **Store ìƒì„± ë° Action ì „ë‹¬** 

#### ğŸ”» CreateStore()

> í˜„ì¬ ì „ì²´ ìƒíƒœ íŠ¸ë¦¬ë¥¼ ë³´ìœ í•˜ëŠ” Redux ì €ì¥ì†Œë¥¼ ë§Œë“ ë‹¤. 
>
> ì•±ì—ëŠ” í•˜ë‚˜ì˜ ìŠ¤í† ì–´ë§Œ ìˆì–´ì•¼ í•œë‹¤. 



```javascript
import counter from './reducers';
import { createStore } from 'redux'

const store = createStore(counter)

ReactDOM.render(
	<React.StricMode>
    	<App 
    		value={store.getState()}
    		onIncrement={() => store.dispatch({ type: 'INCREMENT' })}
            onDecrement={() => store.dispatch({ type: 'DECREMENT' })}
         />
    </React.StricMode>,
	document.geElementById('root')
)
```





#### ğŸ”» getState()

> https://redux.js.org/api/store#getstate

> ì• í”Œë¦¬ì¼€ì´ì…˜ì˜ í˜„ì¬ ìƒíƒœ íŠ¸ë¦¬ë¥¼ ë°˜í™˜í•œë‹¤.  
>
> ìŠ¤í† ì–´ì˜ ë¦¬ë“€ì„œê°€ ë°˜í™˜í•œ ë§ˆì§€ë§‰ ê°’ê³¼ ê°™ë‹¤. 

```javascript
const render = () => React.DOM.render(
	ReactDOM.render(
	<React.StricMode>
    	<App 
    		value={store.getState()}
    		onIncrement={() => store.dispatch({ type: 'INCREMENT' })}
            onDecrement={() => store.dispatch({ type: 'DECREMENT' })}
         />
    </React.StricMode>,
	document.geElementById('root')
);

render()
store.subscribe(render)
```





* (3) **App.tsx**

```javascript
import React from "react";
import logo from "./logo.svg";
import "./App.css";

type Props = {
  value: number;
  onIncrement: () => void;
  onDecrement: () => void;
};

function App({ value, onIncrement, onDecrement }: Props) {
  return (
    <p>
      Clicked: {value} times <button onClick={onIncrement}>+</button>{" "}
      <button onClick={onDecrement}>-</button>
    </p>
  );
}

export default App;

```



#### ğŸ”» (4) subscribe()

> https://redux.js.org/api/store#subscribelistener

> change listener ë¥¼ ì¶”ê°€í•œë‹¤. 
>
> ì‘ì—…ì´ ì „ë‹¬ë  ë•Œë§ˆë‹¤ í˜¸ì¶œë˜ë©° ìƒíƒœ íŠ¸ë¦¬ì˜ ì¼ë¶€ê°€ ì ì¬ì ìœ¼ë¡œ ë³€ê²½ë˜ì—ˆì„ ìˆ˜ ìˆë‹¤. 
>
> ê·¸ëŸ° ë‹¤ìŒ, getState()ë¥¼ í˜¸ì¶œí•˜ì—¬ ì½œë°± ë‚´ë¶€ì˜ í˜„ì¬ ìƒíƒœ íŠ¸ë¦¬ë¥¼ ì½ì„ ìˆ˜ ìˆë‹¤. 



```javascript
import React from "react";
import ReactDOM from "react-dom/client";
import "./index.css";
import App from "./App";
import reportWebVitals from "./reportWebVitals";

import { createStore } from "redux";
import counter from "./reducers";

const root = ReactDOM.createRoot(
  document.getElementById("root") as HTMLElement
);

const store = createStore(counter);

const render = () =>
  root.render(
    <React.StrictMode>
      <App
        value={store.getState()}
        onIncrement={() => store.dispatch({ type: "INCREMENT" })}
        onDecrement={() => store.dispatch({ type: "DECREMENT" })}
      />
    </React.StrictMode>
  );
render();

store.subscribe(render);
// If you want to start measuring performance in your app, pass a function
// to log results (for example: reportWebVitals(console.log))
// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals
reportWebVitals();
```



---



![image-20230608202949765](C:\Users\areur\AppData\Roaming\Typora\typora-user-images\image-20230608202949765.png)