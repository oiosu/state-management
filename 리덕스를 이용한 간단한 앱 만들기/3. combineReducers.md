# 3. combineReducers

### â—¾ToDo ê¸°ëŠ¥ ì¶”ê°€

í˜„ì¬ê¹Œì§€ ë§Œë“  Counter ì•±ì— ToDo ì•±ì„ ì¶”ê°€í•˜ê¸° 



#### âœ… root reducerì™€ sub reducer

> í˜„ì¬ê¹Œì§€ counter ë¦¬ë“€ì„œë§Œ ìˆëŠ”ë° í•˜ë‚˜ë¥¼ ë” ì¶”ê°€í•´ì£¼ë ¤ë©´ 
>
> Root ë¦¬ë“€ì„œë¥¼ ë§Œë“¤ì–´ ê·¸ ì•„ë˜ counterì™€ todosë¼ëŠ” ì„œë¸Œ(sub) ë¦¬ë“€ì„œë¥¼ ë„£ì–´ì£¼ë©´ ëœë‹¤. 
>
> Root ë¦¬ë“€ì„œë¥¼ ë§Œë“¤ ë•Œ ì‚¬ìš©í•˜ëŠ” ê²ƒì´ `combineReducers` ì´ë‹¤. 



> ğŸ“‚ reducers
>
> > ğŸ“‚ counter.tsx
> >
> > ğŸ“‚ index.tsx
> >
> > ğŸ“‚ todos.tsx



---

* ReducerëŠ” í•˜ë‚˜ë§Œ ì¡´ì¬í•´ì•¼ í•œë‹¤. ê·¸ë¦¬ê³  ê·¸ Reducer ì•ˆì— ì—¬ëŸ¬ê°€ì§€ Reducerë“¤ì„ ê°€ì§ˆ ìˆ˜ ìˆë‹¤. 

> ê·¸ ì´ìœ ëŠ”,  counter ì•±ì„ ìœ„í•´ í•˜ë‚˜ì˜ Reducerë¥¼ ê°€ì§€ê³  ìˆë‹¤. ë°”ë¡œ `reducers` > `index.tsx`
>
> í•˜ì§€ë§Œ counter ê¸°ëŠ¥ ë¿ë§Œì•„ë‹ˆë¼ ë‹¤ë¥¸ ê¸°ëŠ¥ë„ ë§Œë“¤ ë•Œ ê·¸ì— ë”°ë¥¸ reducerë„ í•„ìš”í•˜ë‹¤. 
>
> ê·¸ë˜ì„œ ê·¸ë•Œ ì—¬ëŸ¬ê°€ì§€ reducerë¥¼ ê°€ì ¸ì•¼ í•˜ë‹ˆ í•˜ë‚˜ì˜ í° Reducer ì•ˆì— ì—¬ëŸ¬ê°€ì§€ reducerë¥¼ ë„£ì–´ì£¼ë©´ ëœë‹¤. 
>
> ê·¸ëŸ´ë•Œ ì‚¬ìš©í•˜ëŠ” ê²ƒì´ `combineReducer`ë¼ëŠ” ê²ƒì´ë‹¤. 

---



* counter.tsx

```javascript
interface Action {
  type: string;
}

const counter = (state = 0, action: Action) => {
  switch (action.type) {
    case "INCREMENT":
      return state + 1;
    case "DECREMENT":
      return state - 1;
    default:
      return state;
  }
};

export default counter;

```



* index.tsx

```javascript
import { combineReducers } from "redux";
import counter from "./counter";
import todos from "./todos";

const rootReducer = combineReducers({
  counter,
  todos,
});

export default rootReducer;
```

 

* todos.tsx

```javascript
enum ActionType {
  ADD_TODO = "ADD_TODO",
  DELETE_TODO = "DELETE_TODO",
}

interface Action {
  type: ActionType;
  text: string;
}

const todos = (state = [], action: Action) => {
  switch (action.type) {
    case "ADD_TODO":
      return [...state, action.text];
    default:
      return state;
  }
};

export default todos;

```



---



#### âœ…createStore ì— ë£¨íŠ¸ ë¦¬ë“€ì„œë¡œ ëŒ€ì²´ 

```javascript
import counter from './reducers';
import { createStore } from 'redux'

comst store = createStore(counter)
```

```javascript
import rootReducer from './reducers';
import { createStore } from 'redux'

const store = createStore(rootReducer)
```



#### âœ… createStoreì— ë£¨íŠ¸ ë¦¬ë“€ì„œë¡œ ëŒ€ì²´ 

```javascript
const store = createStore(rootReducer)

store.dispatch({
    type: 'ADD_TODO',
    text: 'Use Redux'
})

console.log('store.getState()', store.getState());
```

![image-20230608210212939](C:\Users\areur\AppData\Roaming\Typora\typora-user-images\image-20230608210212939.png)

